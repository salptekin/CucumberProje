package techproedturkish01.techproedturkish01api;

import static io.restassured.RestAssured.given;

import java.io.IOException;
import java.util.Map;

import org.codehaus.jackson.map.ObjectMapper;
import org.junit.Test;

import Utilities.JsonUtil;
import io.restassured.response.Response;

public class ObjectMapperTest extends TestBase {
	
	@Test
	public void jsonToJava() {
		
		Response response = given().
                				spec(spec01).
                				when(). 
                				get("/booking/3");

        response.prettyPrint();
        
        Booking jsonToBooking = JsonUtil.convertJsonToJava(response.asString(), Booking.class);
        
        Map jsonToMap = JsonUtil.convertJsonToJava(response.asString(), Map.class);
        
//        ObjectMapper objectMapper = new ObjectMapper();
//        
//        Map<String, Object> map = null;
//        try {
//			map = objectMapper.readValue(response.asString(), Map.class);
//		} catch (IOException e) {
//			System.out.println("Exception: " + e.getMessage());
//		}
        
        System.out.println(jsonToMap);
        System.out.println(jsonToBooking);
        
        
        
       
        response.then().assertThat().statusCode(200);
       
		

	}

}
